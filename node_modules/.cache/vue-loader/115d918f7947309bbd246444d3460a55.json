{"remainingRequest":"D:\\VueProject\\lowcode-1\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\VueProject\\lowcode-1\\node_modules\\vue-video-player\\src\\player.vue?vue&type=script&lang=js&","dependencies":[{"path":"D:\\VueProject\\lowcode-1\\node_modules\\vue-video-player\\src\\player.vue","mtime":1680855301846},{"path":"D:\\VueProject\\lowcode-1\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1680855276454},{"path":"D:\\VueProject\\lowcode-1\\node_modules\\babel-loader\\lib\\index.js","mtime":1680855274222},{"path":"D:\\VueProject\\lowcode-1\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1680855276454},{"path":"D:\\VueProject\\lowcode-1\\node_modules\\vue-loader\\lib\\index.js","mtime":1680855301722}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KCndpbmRvdy52aWRlb2pzID0gcmVxdWlyZSgndmlkZW8uanMnKQp2aWRlb2pzID0gdmlkZW9qcy5kZWZhdWx0IHx8IHZpZGVvanMKZXhwb3J0IGRlZmF1bHQgewogIG5hbWU6ICd2aWRlby1wbGF5ZXInLAogIHByb3BzOiB7CiAgICBvcHRpb25zOiB7CiAgICAgIHR5cGU6IE9iamVjdCwKICAgICAgcmVxdWlyZWQ6IHRydWUKICAgIH0sCiAgICBzdGFydDogewogICAgICB0eXBlOiBOdW1iZXIsCiAgICAgIGRlZmF1bHQ6IGZ1bmN0aW9uKCkgewogICAgICAgIHJldHVybiAwCiAgICAgIH0KICAgIH0sCiAgICBwbGF5c2lubGluZTogewogICAgICB0eXBlOiBCb29sZWFuLAogICAgICBkZWZhdWx0OiBmdW5jdGlvbigpIHsKICAgICAgICByZXR1cm4gZmFsc2UKICAgICAgfQogICAgfSwKICAgIGN1c3RvbUV2ZW50TmFtZTogewogICAgICB0eXBlOiBTdHJpbmcsCiAgICAgIGRlZmF1bHQ6IGZ1bmN0aW9uKCkgewogICAgICAgIHJldHVybiAnc3RhdGVjaGFuZ2VkJwogICAgICB9CiAgICB9CiAgfSwKICBtb3VudGVkOiBmdW5jdGlvbigpIHsKICAgIGlmICghdGhpcy5wbGF5ZXIpIHsgCiAgICAgIHRoaXMuaW5pdGlhbGl6ZSgpCiAgICB9CiAgfSwKICBiZWZvcmVEZXN0cm95OiBmdW5jdGlvbigpIHsKICAgIGlmICh0aGlzLnBsYXllcikgeyAKICAgICAgdGhpcy5kaXNwb3NlKCkKICAgIH0KICB9LAogIG1ldGhvZHM6IHsKICAgIGluaXRpYWxpemU6IGZ1bmN0aW9uKCkgewoKICAgICAgLy8gaW5pdAogICAgICB2YXIgc2VsZiA9IHRoaXMKICAgICAgdGhpcy5wbGF5ZXIgPSBudWxsCgogICAgICAvLyB2aWRlb2pzIG9wdGlvbnMKICAgICAgdmFyIHZpZGVvT3B0aW9ucyA9IE9iamVjdC5hc3NpZ24oewogICAgICAgIGF1dG9wbGF5OiBmYWxzZSwKICAgICAgICBjb250cm9sczogdHJ1ZSwKICAgICAgICBwcmVsb2FkOiAnYXV0bycsCiAgICAgICAgZmx1aWQ6IGZhbHNlLAogICAgICAgIG11dGVkOiBmYWxzZSwKICAgICAgICB3aWR0aDogJzEwMCUnLAogICAgICAgIGhlaWdodDogJzM2MCcsCiAgICAgICAgbGFuZ3VhZ2U6ICdlbicsCiAgICAgICAgY29udHJvbEJhcjogewogICAgICAgICAgcmVtYWluaW5nVGltZURpc3BsYXk6IGZhbHNlLAogICAgICAgICAgcGxheVRvZ2dsZToge30sCiAgICAgICAgICBwcm9ncmVzc0NvbnRyb2w6IHt9LAogICAgICAgICAgZnVsbHNjcmVlblRvZ2dsZToge30sCiAgICAgICAgICB2b2x1bWVNZW51QnV0dG9uOiB7CiAgICAgICAgICAgIGlubGluZTogZmFsc2UsCiAgICAgICAgICAgIHZlcnRpY2FsOiB0cnVlCiAgICAgICAgICB9CiAgICAgICAgfSwKICAgICAgICB0ZWNoT3JkZXI6IFsnaHRtbDUnXSwKICAgICAgICBwbHVnaW5zOnt9CiAgICAgIH0sIHRoaXMub3B0aW9ucykKCiAgICAgIC8vIGNoZWNrIHNvdXJjZXMKICAgICAgLyoKICAgICAgaWYgKCF2aWRlb09wdGlvbnMuc291cmNlcyB8fCAhdmlkZW9PcHRpb25zLnNvdXJjZXMubGVuZ3RoKSB7CiAgICAgICAgY29uc29sZS53YXJuKCdNaXNzaW5nIHJlcXVpcmVkIG9wdGlvbjogInNvdXJjZXMiLicpCiAgICAgICAgcmV0dXJuIGZhbHNlCiAgICAgIH0KICAgICAgKi8KCiAgICAgIC8vIGlvcyBmdWxsc2NyZWVuCiAgICAgIHZhciBwbGF5c2lubGluZSA9IHRoaXMucGxheXNpbmxpbmUKICAgICAgaWYgKHBsYXlzaW5saW5lKSB7CiAgICAgICAgdGhpcy4kZWwuY2hpbGRyZW5bMF0uc2V0QXR0cmlidXRlKCdwbGF5c2lubGluZScsIHBsYXlzaW5saW5lKQogICAgICAgIHRoaXMuJGVsLmNoaWxkcmVuWzBdLnNldEF0dHJpYnV0ZSgnd2Via2l0LXBsYXlzaW5saW5lJywgcGxheXNpbmxpbmUpCiAgICAgIH0KCiAgICAgIC8vIGVtaXQgZXZlbnQKICAgICAgdmFyIGVtaXRQbGF5ZXJTdGF0ZSA9IGZ1bmN0aW9uKGV2ZW50LCB2YWx1ZSkgewogICAgICAgIGlmIChldmVudCkgewogICAgICAgICAgc2VsZi4kZW1pdChldmVudCwgc2VsZi5wbGF5ZXIpCiAgICAgICAgfQogICAgICAgIGlmICh2YWx1ZSkgewogICAgICAgICAgdmFyIHZhbHVlcyA9IHt9CiAgICAgICAgICB2YWx1ZXNbZXZlbnRdID0gdmFsdWUKICAgICAgICAgIHNlbGYuJGVtaXQoc2VsZi5jdXN0b21FdmVudE5hbWUsIHZhbHVlcykKICAgICAgICB9CiAgICAgIH0KCiAgICAgIC8vIHZpZGVvT3B0aW9ucwogICAgICAvLyBjb25zb2xlLmxvZyh2aWRlb09wdGlvbnMpCgogICAgICAvLyBhdm9pZCBlcnJvciAiVklERU9KUzogRVJST1I6IFVuYWJsZSB0byBmaW5kIHBsdWdpbjogX19vYl9fIgogICAgICBpZiAodmlkZW9PcHRpb25zLnBsdWdpbnMpIHsKICAgICAgICBkZWxldGUgdmlkZW9PcHRpb25zLnBsdWdpbnMuX19vYl9fCiAgICAgIH0KICAgICAgCiAgICAgIHRoaXMucGxheWVyID0gdmlkZW9qcyh0aGlzLiRlbC5jaGlsZHJlblswXSwgdmlkZW9PcHRpb25zLCBmdW5jdGlvbigpIHsKCiAgICAgICAgLy8gcGxheWVyIHJlYWRpZWQKICAgICAgICB2YXIgX3RoaXMgPSB0aGlzCiAgICAgICAgc2VsZi4kZW1pdCgncmVhZHknLCBzZWxmLnBsYXllcikKCiAgICAgICAgLy8gZXZlbnRzCiAgICAgICAgdmFyIGV2ZW50cyA9IFsnbG9hZGVkZGF0YScsCiAgICAgICAgICAgICAgICAgICAgICAnY2FucGxheScsIAogICAgICAgICAgICAgICAgICAgICAgJ2NhbnBsYXl0aHJvdWdoJywgCiAgICAgICAgICAgICAgICAgICAgICAncGxheScsIAogICAgICAgICAgICAgICAgICAgICAgJ3BhdXNlJywgCiAgICAgICAgICAgICAgICAgICAgICAnd2FpdGluZycsIAogICAgICAgICAgICAgICAgICAgICAgJ3BsYXlpbmcnLCAKICAgICAgICAgICAgICAgICAgICAgICdlbmRlZCcsCiAgICAgICAgICAgICAgICAgICAgICAnZXJyb3InXQogICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgZXZlbnRzLmxlbmd0aDsgaSsrKSB7CiAgICAgICAgICAoZnVuY3Rpb24oZXZlbnQpIHsKICAgICAgICAgICAgX3RoaXMub24oZXZlbnQsIGZ1bmN0aW9uKCkgewogICAgICAgICAgICAgIGVtaXRQbGF5ZXJTdGF0ZShldmVudCwgdHJ1ZSkKICAgICAgICAgICAgfSkKICAgICAgICAgIH0pKGV2ZW50c1tpXSkKICAgICAgICB9CgogICAgICAgIHRoaXMub24oJ3RpbWV1cGRhdGUnLCBmdW5jdGlvbigpIHsKICAgICAgICAgIGVtaXRQbGF5ZXJTdGF0ZSgndGltZXVwZGF0ZScsIHRoaXMuY3VycmVudFRpbWUoKSkKICAgICAgICB9KQogICAgICB9KQogICAgfSwKICAgIGRpc3Bvc2U6IGZ1bmN0aW9uKCkgewogICAgICBpZiAodGhpcy5wbGF5ZXIgJiYgdmlkZW9qcykgewogICAgICAgIGlmICh0aGlzLnBsYXllci50ZWNoTmFtZV8gIT09ICdGbGFzaCcpIHsKICAgICAgICAgIHRoaXMucGxheWVyLnBhdXNlICYmIHRoaXMucGxheWVyLnBhdXNlKCkKICAgICAgICB9CiAgICAgICAgdmlkZW9qcyh0aGlzLiRlbC5jaGlsZHJlblswXSkuZGlzcG9zZSgpCiAgICAgICAgaWYgKCF0aGlzLiRlbC5jaGlsZHJlbi5sZW5ndGgpIHsKICAgICAgICAgIHZhciB2aWRlbyA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3ZpZGVvJykKICAgICAgICAgIHZpZGVvLmNsYXNzTmFtZSA9ICd2aWRlby1qcycKICAgICAgICAgIHRoaXMuJGVsLmFwcGVuZENoaWxkKHZpZGVvKQogICAgICAgIH0KICAgICAgICB0aGlzLnBsYXllciA9IG51bGwKICAgICAgfQogICAgfQogIH0sCiAgd2F0Y2g6IHsKICAgIG9wdGlvbnM6IHsKICAgICAgZGVlcDogdHJ1ZSwKICAgICAgaGFuZGxlcjogZnVuY3Rpb24gKG9wdGlvbnMsIG9sZE9wdGlvbnMpIHsKICAgICAgICB0aGlzLmRpc3Bvc2UoKQogICAgICAgIGlmIChvcHRpb25zICYmIG9wdGlvbnMuc291cmNlcyAmJiBvcHRpb25zLnNvdXJjZXMubGVuZ3RoKSB7CiAgICAgICAgICB0aGlzLmluaXRpYWxpemUoKQogICAgICAgIH0KICAgICAgfQogICAgfQogIH0KfQo="},{"version":3,"sources":["player.vue"],"names":[],"mappings":";;;;;;;AAOA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"player.vue","sourceRoot":"node_modules/vue-video-player/src","sourcesContent":["<template>\r\n  <div class=\"video-player\">\r\n    <video class=\"video-js\"></video>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\n  window.videojs = require('video.js')\r\n  videojs = videojs.default || videojs\r\n  export default {\r\n    name: 'video-player',\r\n    props: {\r\n      options: {\r\n        type: Object,\r\n        required: true\r\n      },\r\n      start: {\r\n        type: Number,\r\n        default: function() {\r\n          return 0\r\n        }\r\n      },\r\n      playsinline: {\r\n        type: Boolean,\r\n        default: function() {\r\n          return false\r\n        }\r\n      },\r\n      customEventName: {\r\n        type: String,\r\n        default: function() {\r\n          return 'statechanged'\r\n        }\r\n      }\r\n    },\r\n    mounted: function() {\r\n      if (!this.player) { \r\n        this.initialize()\r\n      }\r\n    },\r\n    beforeDestroy: function() {\r\n      if (this.player) { \r\n        this.dispose()\r\n      }\r\n    },\r\n    methods: {\r\n      initialize: function() {\r\n\r\n        // init\r\n        var self = this\r\n        this.player = null\r\n\r\n        // videojs options\r\n        var videoOptions = Object.assign({\r\n          autoplay: false,\r\n          controls: true,\r\n          preload: 'auto',\r\n          fluid: false,\r\n          muted: false,\r\n          width: '100%',\r\n          height: '360',\r\n          language: 'en',\r\n          controlBar: {\r\n            remainingTimeDisplay: false,\r\n            playToggle: {},\r\n            progressControl: {},\r\n            fullscreenToggle: {},\r\n            volumeMenuButton: {\r\n              inline: false,\r\n              vertical: true\r\n            }\r\n          },\r\n          techOrder: ['html5'],\r\n          plugins:{}\r\n        }, this.options)\r\n\r\n        // check sources\r\n        /*\r\n        if (!videoOptions.sources || !videoOptions.sources.length) {\r\n          console.warn('Missing required option: \"sources\".')\r\n          return false\r\n        }\r\n        */\r\n\r\n        // ios fullscreen\r\n        var playsinline = this.playsinline\r\n        if (playsinline) {\r\n          this.$el.children[0].setAttribute('playsinline', playsinline)\r\n          this.$el.children[0].setAttribute('webkit-playsinline', playsinline)\r\n        }\r\n\r\n        // emit event\r\n        var emitPlayerState = function(event, value) {\r\n          if (event) {\r\n            self.$emit(event, self.player)\r\n          }\r\n          if (value) {\r\n            var values = {}\r\n            values[event] = value\r\n            self.$emit(self.customEventName, values)\r\n          }\r\n        }\r\n\r\n        // videoOptions\r\n        // console.log(videoOptions)\r\n\r\n        // avoid error \"VIDEOJS: ERROR: Unable to find plugin: __ob__\"\r\n        if (videoOptions.plugins) {\r\n          delete videoOptions.plugins.__ob__\r\n        }\r\n        \r\n        this.player = videojs(this.$el.children[0], videoOptions, function() {\r\n\r\n          // player readied\r\n          var _this = this\r\n          self.$emit('ready', self.player)\r\n\r\n          // events\r\n          var events = ['loadeddata',\r\n                        'canplay', \r\n                        'canplaythrough', \r\n                        'play', \r\n                        'pause', \r\n                        'waiting', \r\n                        'playing', \r\n                        'ended',\r\n                        'error']\r\n          for (var i = 0; i < events.length; i++) {\r\n            (function(event) {\r\n              _this.on(event, function() {\r\n                emitPlayerState(event, true)\r\n              })\r\n            })(events[i])\r\n          }\r\n\r\n          this.on('timeupdate', function() {\r\n            emitPlayerState('timeupdate', this.currentTime())\r\n          })\r\n        })\r\n      },\r\n      dispose: function() {\r\n        if (this.player && videojs) {\r\n          if (this.player.techName_ !== 'Flash') {\r\n            this.player.pause && this.player.pause()\r\n          }\r\n          videojs(this.$el.children[0]).dispose()\r\n          if (!this.$el.children.length) {\r\n            var video = document.createElement('video')\r\n            video.className = 'video-js'\r\n            this.$el.appendChild(video)\r\n          }\r\n          this.player = null\r\n        }\r\n      }\r\n    },\r\n    watch: {\r\n      options: {\r\n        deep: true,\r\n        handler: function (options, oldOptions) {\r\n          this.dispose()\r\n          if (options && options.sources && options.sources.length) {\r\n            this.initialize()\r\n          }\r\n        }\r\n      }\r\n    }\r\n  }\r\n</script>\r\n"]}]}